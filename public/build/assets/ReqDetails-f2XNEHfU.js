import{A as f}from"./AuthenticatedLayout-rZevd7jB.js";import{r as s,R as e,b as h,a as c}from"../.vite/manifest.json";import"./react-paginate-lH0QN-md.js";import{R as y}from"./ReqItemsTable-v9vYRaJF.js";import"./SideBar-LxcvG1Xt.js";function P({auth:l}){const[m,b]=s.useState(""),[u,E]=s.useState(""),[i,x]=s.useState(""),[a,d]=s.useState([]);s.useState(!0);const r=async t=>{try{const n=t?"submit_pr":"save_pr",g=!!t,p=await c.post("http://localhost:8000/req_details/add",{item:m,quantity:u,measure:i,status:g});console.log(`PR ${t?"submitted":"saved"} successfully`,p),o()}catch(n){console.error(`Error ${t?"submitting":"saving"} PR`,n)}},o=async()=>{try{const t=await c.get("/allreq_details");console.log("res",t),d(t.data.reqs)}catch(t){console.error("Error fetching reqs:",t)}};return s.useEffect(()=>{o()},[]),console.log("res",a.reqs),e.createElement(e.Fragment,null,e.createElement(f,{user:l.user,header:e.createElement(e.Fragment,null,e.createElement("h2",{className:"font-semibold text-xl text-gray-800 leading-tight"},"Dashboard"))},e.createElement(h,{title:"Dashboard"}),e.createElement("div",{className:"py-12"},e.createElement("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8"},e.createElement("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},e.createElement("div",{className:"card p-4"},e.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"}),e.createElement(y,{items:a,handleSelect}),e.createElement("div",{className:"flex justify-around m4-3"},e.createElement("button",{type:"button",className:`text-white bg-green-400
                    focus:outline-none hover:bg-gray-100
                    focus:ring-4 focus:ring-gray-200 py-1 px-4 rounded`,onClick:r},"Save Incomplete PR"),e.createElement("a",{href:"/add_req",className:""},e.createElement("button",{type:"button",className:`text-white bg-green-400
                      focus:outline-none hover:bg-blue-400
                      focus:ring-4 focus:ring-gray-200 py-1 px-4 rounded`},"Previous Window")),e.createElement("button",{type:"button",className:`text-white bg-green-400
                    focus:outline-none hover:bg-gray-100
                    focus:ring-4 focus:ring-gray-200 py-1 px-4 rounded`,onClick:r},"Submit PR"))))))))}export{P as default};
